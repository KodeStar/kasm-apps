(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{8538:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addapp",function(){return s(1905)}])},1905:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return o}});var n=s(5893),a=s(9008),t=s.n(a),i=s(7294),r=s(3162);function o(){function e(e){var l=e.toString().toLowerCase();return(l=(l=(l=l.split(/\&+/).join("-and-")).split(/[^a-z0-9]/).join("-")).split(/-+/).join("-")).trim("-")}let l=()=>{var l=s(5733);let n=new l,t=n.folder(u.friendly_name);t.file("app.json",JSON.stringify(u,null,2)),a&&t.file(u.image_src,a.file),n.generateAsync({type:"blob"}).then(function(l){(0,r.saveAs)(l,e(u.friendly_name)+".zip")})},[a,o]=(0,i.useState)(null),[d,m]=(0,i.useState)("png"),[u,p]=(0,i.useState)({friendly_name:null,image_src:null,description:null,name:null,cores:2,memory:2768,gpu_count:0,cpu_allocation_method:"Inherit",docker_registry:"https://index.docker.io/v1/",volume_mappings:"{}",run_config:"{}",exec_config:"{}",categories:"[]",require_gpu:!1,enabled:!0,restrict_to_network:!1,restrict_network_names:"[]",allow_network_selection:!1,notes:null,image_type:"Container"});(0,i.useEffect)(()=>{if(u&&u.friendly_name){let l={...u};l.image_src=e(l.friendly_name)+"."+d,p(l)}},[d]);let x=l=>{let s={...u};s[l.target.name]=l.target.value,"icon"===l.target.name&&(delete s.icon,o({value:l.target.value,file:l.target.files[0]}),m(l.target.value.substr(l.target.value.lastIndexOf(".")+1))),s.friendly_name&&(s.image_src=e(s.friendly_name)+"."+d),p(s)};return(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)(t(),{children:[(0,n.jsx)("title",{children:"Kasm Apps"}),(0,n.jsx)("meta",{name:"description",content:"List of apps for Kasm Webspaces"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row w-full my-20 max-w-6xl text-sm rounded-xl overflow-hidden mx-auto",children:[(0,n.jsxs)("div",{className:"w-full lg:w-1/2 p-16 bg-slate-300",children:[(0,n.jsx)("h1",{className:"text-2xl font-medium mb-2",children:"Add Application"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("p",{className:"mb-8 opacity-70",children:"This will help you generate the JSON file you need to upload to the App directory."}),(0,n.jsx)("label",{className:"mb-2 font-medium",children:"Friendly Name"}),(0,n.jsx)("input",{name:"friendly_name",onChange:x,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,n.jsx)("p",{className:"mb-6 opacity-70",children:"This is the name that will show for users"}),(0,n.jsx)("label",{className:"mb-2 font-medium",children:"Description"}),(0,n.jsx)("input",{name:"description",onChange:x,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,n.jsx)("p",{className:"mb-6 opacity-70",children:"A short description about the application"}),(0,n.jsx)("label",{className:"mb-2 font-medium",children:"Docker Image"}),(0,n.jsx)("input",{name:"name",onChange:x,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,n.jsxs)("p",{className:"mb-6 opacity-70",children:["The docker image to use, i.e. ",(0,n.jsx)("code",{className:"text-xs p-1 px-2 rounded bg-white/40",children:"kasmweb/filezilla:develop"})]}),(0,n.jsx)("label",{className:"mb-2 font-medium",children:"Icon"}),(0,n.jsx)("input",{type:"file",name:"icon",onChange:x,className:"mb-2 p-2 rounded-lg bg-slate-100 border border-solid border-slate-400"}),(0,n.jsx)("p",{className:"mb-6 opacity-70",children:"URL to the icon to use, this will be downloaded."})]})]}),(0,n.jsxs)("div",{className:"w-full lg:w-1/2 p-16 bg-slate-100",children:[(0,n.jsx)(c,{app:u,icon:a}),(0,n.jsx)("pre",{className:"my-8 overflow-y-auto text-xs",children:JSON.stringify(u,null,2)}),(0,n.jsx)("button",{onClick:l,className:"p-4 relative z-10 px-5 bg-emerald-600 m-2 rounded items-center text-white/70 flex cursor-pointer",children:"Download"})]})]})]})}function c(e){let{app:l,icon:s}=e,[a,t]=(0,i.useState)(!1),r=JSON.parse(l.categories),o=null;if(s){let c=new Blob([s.file]);o=URL.createObjectURL(c)}return(0,n.jsx)("div",{className:"rounded-xl w-full shadow max-w-xs relative overflow-hidden h-[160px] border border-solid flex flex-col justify-between bg-slate-300 border-slate-400/50",children:(0,n.jsxs)("div",{className:"absolute top-0 left-0 right-0 h-[320px] transition-all"+(a?" -translate-y-1/2":""),children:[(0,n.jsxs)("div",{className:"h-[160px] p-4",children:[(0,n.jsx)("img",{className:"h-[105px] absolute -left-6 -top-4",src:o,alt:l.friendly_name}),(0,n.jsxs)("div",{className:"flex-col pl-20",children:[(0,n.jsx)("div",{className:"font-bold",children:l.friendly_name||"Friendly Name"}),(0,n.jsxs)("div",{className:"text-xs mb-2 flex gap-2",children:["Kasm Technologies"," "]}),(0,n.jsx)("div",{className:"text-[10px] h-8",children:r.lendth>0?r.map(e=>(0,n.jsx)("span",{className:"p-2 py-0 m-[1px] inline-block rounded bg-black/5",children:e})):(0,n.jsx)("span",{className:"p-2 py-0 m-[1px] inline-block rounded bg-black/5",children:"categories"})})]}),(0,n.jsxs)("div",{className:"flex mt-1 gap-2 items-center",children:[(0,n.jsx)("button",{className:"text-xs w-full p-4 rounded-lg flex justify-center items-center bg-blue-500 font-bold text-white",children:"Install"}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{className:"flex w-8 h-8 bg-slate-100 justify-center rounded-full items-center",onClick:()=>t(!0),children:(0,n.jsx)("i",{className:"fa fa-info"})})})]})]}),(0,n.jsxs)("div",{className:"h-[160px] text-xs relative p-8",children:[(0,n.jsx)("button",{className:"absolute right-2 top-2 bg-slate-100 rounded-full flex justify-center items-center h-6 w-6",onClick:()=>t(!1),children:(0,n.jsx)("i",{className:"fa fa-close"})}),l.description]})]})})}}},function(e){e.O(0,[889,774,888,179],function(){return e(e.s=8538)}),_N_E=e.O()}]);